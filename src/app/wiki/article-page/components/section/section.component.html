<div class="position-relative" [ngClass]="{ 'border rounded p-2 my-2': section.depth > 0 }">
  <app-revision
    *ngIf="section.latestRevision"
    (editSection)="edit()"
    (deleteSection)="delete()"
    (addSection)="add()"
    [revision]="section.latestRevision"
    [createdBy]="section.createdBy"
  ></app-revision>
  <app-section *ngFor="let section of section.subsections" [section]="section"></app-section>
  <ng-template [appHasAccess]="section.createdBy">
    <button *ngIf="section.depth === 0" type="button" class="btn btn-outline-primary" (click)="add()">
      add section
    </button>
  </ng-template>
</div>
<ng-container *ngIf="!(isEditable$ | async) && section.depth === 0 && section.subsections.length === 0">
  <button type="button" class="btn btn-outline-primary" (click)="add()">create first section</button>
</ng-container>
